# Solves Project Euler #28

# Final result
total := 0

# Number the locations based on the order visited
i := 1

def isDiagonal (x: Int, y: Int) -> Bool =
    (x == y) or (x == -y)

def check x y =
    if isDiagonal x y then
        total += i

    i += 1


check 0 0

n := 1
while 2 * n + 1 <= 1001 do
    x := n
    y := n

    -- Down
    for _ in range 1 $ 2 * n do
        y -= 1
        check x y

    -- Left
    for _ in range 1 $ 2 * n do
        x -= 1
        check x y

    -- Up
    for _ in range 1 $ 2 * n do
        y += 1
        check x y

    -- Right
    for _ in range 1 $ 2 * n do
        x += 1
        check x y

    n += 1

print $ show total
