# Solves Project Euler #21

def divisors(n: Int) -> [Int]
    result := [1]

    i := 2
    while i * i <= n
        if n mod i == 0
            if i * i == n
                result = i :: result
            else
                result = i :: (n / i) :: result

        i += 1

    return result

def isAmicable(n: Int) -> Bool
    n' := sum $ divisors(n)

    if n == n'
        return False

    n'' := sum $ divisors(n')

    return n == n''

total := 0
for n = 1 to 9999
    if isAmicable(n)
        total += n

print $ show(total)

